{
  "$schema": "https://unpkg.com/release-it@19/schema/release-it.json",
  "git": {
    "commitMessage": "chore: release v${version}",
    "tagName": "v${version}",
    "pushArgs": ["--follow-tags"],
    "requireCleanWorkingDir": true,
    "requireUpstream": true,
    "commit": true,
    "tag": true,
    "push": true
  },
  "github": {
    "release": true,
    "releaseName": "ğŸš€ v${version}",
    "releaseNotes": "npx conventional-changelog-cli -p conventionalcommits"
  },
  "npm": {
    "publish": true,
    "publishArgs": ["--access", "public"],
    "skipChecks": true
  },
  "plugins": {
    "@release-it/conventional-changelog": {
      "infile": "docs/content/changelog.mdx",
      "releaseCommitMessageFormat": "chore: release v${version}",
      "ignoreRecommendedBump": false,
      "strictSemVer": true,
      "preset": {
        "name": "conventionalcommits",
        "types": [
          {
            "type": "feat"
          },
          {
            "type": "fix"
          },
          {
            "type": "docs"
          },
          {
            "type": "style"
          },
          {
            "type": "refactor"
          },
          {
            "type": "perf"
          },
          {
            "type": "test"
          },
          {
            "type": "build"
          },
          {
            "type": "ci",
            "hidden": true
          },
          {
            "type": "chore",
            "hidden": true
          },
          {
            "type": "revert"
          }
        ],
        "issueUrlFormat": "https://github.com/shenjingnan/home-mcp/pull/{{id}}",
        "commitUrlFormat": "https://github.com/shenjingnan/home-mcp/commit/{{hash}}"
      },
      "writerOpts": {
        "commitsSort": ["scope", "subject"],
        "groupBy": false,
        "commitPartial": "* {{type}}{{#if scope}}({{scope}}){{/if}}: {{#if subject}}{{subject}}{{else}}{{header}}{{/if}}{{#if references}}{{#each references}}{{#if this.issue}} ([#{{this.issue}}]({{href}})){{/if}}{{/each}}{{else}} ([{{shortHash}}]({{href}})){{/if}}\n",
        "footerPartial": ""
      }
    }
  },
  "hooks": {
    "before:init": ["pnpm audit --audit-level moderate", "pnpm test", "pnpm type:check", "pnpm check"],
    "before:release": [
      "git status --porcelain || echo \"GitçŠ¶æ€æ£€æŸ¥å®Œæˆ\"",
      "pnpm clean",
      "pnpm build",
      "git status --porcelain || echo \"æ„å»ºåGitçŠ¶æ€æ£€æŸ¥å®Œæˆ\""
    ],
    "after:bump": ["pnpm build"],
    "after:release": ["echo 'ğŸ‰ ç‰ˆæœ¬ v${version} å‘å¸ƒå®Œæˆï¼'"]
  }
}
